<!DOCTYPE html>
<html lang="en">
<head>
  <meta name="viewport" content="width=device-width, initial-scale=1.0">
  
<script src="http://code.jquery.com/jquery.min.js"></script>
<link href="http://twitter.github.com/bootstrap/assets/css/bootstrap.css" rel="stylesheet" type="text/css" />
<link href="http://twitter.github.com/bootstrap/assets/css/bootstrap-responsive.css" rel="stylesheet" type="text/css" />
<script src="http://twitter.github.com/bootstrap/assets/js/bootstrap.js"></script>
<link href="http://ajax.googleapis.com/ajax/libs/jqueryui/1/themes/base/jquery-ui.css" rel="stylesheet" type="text/css" />
<script src="http://ajax.googleapis.com/ajax/libs/jqueryui/1.8.13/jquery-ui.min.js"></script>
  <script src="http://twitter.github.com/bootstrap/assets/js/bootstrap-modal.js"></script>
<meta charset=utf-8 />
<title>Matching Game | Lion King</title>
<style>img {
  height:100%;
  width:100%;
  overflow:hidden;
}

div {
  -webkit-border-radius: 10px;
  -moz-border-radius: 10px;
  border-radius: 10px;
}
div span {
  display:none;
}

.card {
  margin: 20px;
  border: solid black;
 background:url(http://cdn2.hark.com/images/000/006/667/6667/original.0);
  background-size:100% 100%;
background-repeat:no-repeat;
  opacity: .70;
  width:200px;
  height:300px;
  float: left;
}

.card img {
 display:none; 
}

.cardFace {
  border: dotted red;
  -webkit-border-radius: 10px;
  -moz-border-radius: 10px;
  border-radius: 10px;
  opacity:1;
}

.cardFace img{
  display:inline;
}

.matched img {
  border: dotted blue;
  background-color: green;
  display:inline;
  -webkit-border-radius: 10px;
  -moz-border-radius: 10px;
  border-radius: 10px;
  opacity:1;
}

.footer {
  margin: 10px;
  }
</style>
</head>
<body>
  <div class="row">
    <div class="span8" >
      <h1>The Lion King  Matching Cards</h1>
      <a class="btn btn-primary" id="newGame"><i class="icon-refresh icon-white"></i> New Game</a>
    </div>
  </div>
  <div class="row-fluid">
    <div class="span11">
  <div class="card"><span>2</span><img src="http://ingoodcents.com/wp-content/uploads/Disney-Lion-King-281x300.png" /></div>
  <div class="card"><span>6</span><img src="http://hopeliesat24framespersecond.files.wordpress.com/2011/05/lion-king.jpg" /></div>
  <div class="card"><span>1</span><img src="http://www.lionking.org/imgarchive/Act_2/Timon.jpg" /></div>
  <div class="card"><span>5</span><img src="http://fanart.lionking.org/Artists/TamberElla/SimbaKiaraFAA.jpg" /></div>
  <div class="card"><span>3</span><img src="http://www.lionking.org/imgarchive/Miscellaneous_Images/AdultSimbaDay.jpg" /></div>
  <div class="card"><span>2</span><img src="http://ingoodcents.com/wp-content/uploads/Disney-Lion-King-281x300.png" /></div> 
  <div class="card"><span>4</span><img src="http://latimesblogs.latimes.com/.a/6a00d8341c630a53ef015391b424cb970b-600wi" /></div>
  <div class="card"><span>3</span><img src="http://www.lionking.org/imgarchive/Miscellaneous_Images/AdultSimbaDay.jpg" /></div>
  <div class="card"><span>4</span><img src="http://latimesblogs.latimes.com/.a/6a00d8341c630a53ef015391b424cb970b-600wi" /></div>
  <div class="card"><span>6</span><img src="http://hopeliesat24framespersecond.files.wordpress.com/2011/05/lion-king.jpg" /></div>
   <div class="card"><span>1</span><img src="http://www.lionking.org/imgarchive/Act_2/Timon.jpg" /></div>
  <div class="card"><span>5</span><img src="http://fanart.lionking.org/Artists/TamberElla/SimbaKiaraFAA.jpg" /></div>
    </div> <!-- end span12 --> 
  </div> <!-- end row-fluid --> 
  <div class="footer row">
    <div class="span12">
      <a class="btn btn-info btn-mini" id="hintShowAll" href="#"><i class="icon-eye-open icon-white"></i> Hint: Show All</a>
    </div>
  </div> <!-- end footer --> 
  
  <div class="modal hide" id="modalWin">
  <div class="modal-header alert-success">
    <h2>YOU WIN! You matched all the cards. Good Job.</h2>
    <br >
    <a id="newGame" class="btn btn-large" data-dismiss="modal">New Game</a>
    </div>
  </div> <!-- end modalWin --> 
  
<script>
$(document).ready(function() {

var firstCard = 0; 
var secondCard = 0;
var matched = 0;
  
$(".card").click( function () {
  // check if card is already matched 
  if($(this).hasClass("matched")){
  } else if ($(this).hasClass("selected")){
    //card is already selected
  } else {
    
  // show selected card
  $(this).toggleClass("cardFace"); 
  
  //set card value
  if(firstCard === 0){
    firstCard = $(this).text();
    $(this).toggleClass("selected");
  } else {
    secondCard = $(this).text();
    $(this).toggleClass("selected");
  }  
  
// check if cards match  
  if(firstCard !== 0 && secondCard !== 0){
    
    //cards match
    if(firstCard === secondCard){
      //reset cards
      firstCard = 0;
      secondCard = 0;
      matched++;
      if(matched === 6){
        $("#modalWin").modal('show');
      } 
      // set as matched cards
      $(".selected").toggleClass("matched cardFace selected");             
    } else if(firstCard !== secondCard){
      
      // cards don't match
      // reset cards
      firstCard = 0;
      secondCard = 0;
      //reset selected card view
      $(".selected").animate({
        borderWidth: "3px"
      }, 1500, function (){
        $(".selected").toggleClass("cardFace selected");
      });
    }
  } 
}
});  

  //rest all card views and values
  var newGame = function(){
    $(".card").removeClass("cardFace selected matched");
    firstCard = 0;
    secondCard = 0;
    matched = 0;
  };
  
  var hintShowAll = function () {
    $(".card").addClass("cardFace");
    firstCard = 0;
    secondCard = 0;
    matched = 0;
  };
  
  // New Game handler
  $("#newGame").click(function () {
    newGame();
  });
  
  // hintShowAll handler
  $("#hintShowAll").click(function () {
    hintShowAll();
  });
    
}); //end doc.ready
</script>
</body>
</html>
